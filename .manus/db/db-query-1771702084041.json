{
  "query": "CREATE TABLE `bot_logs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`botId` int NOT NULL,\n\t`level` enum('info','warn','error','debug') NOT NULL DEFAULT 'info',\n\t`message` text NOT NULL,\n\t`metadata` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `bot_logs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `bot_prompts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`botName` varchar(128) NOT NULL,\n\t`botType` varchar(64) NOT NULL,\n\t`description` text NOT NULL,\n\t`promptText` text NOT NULL,\n\t`dependencies` text,\n\t`envVars` text,\n\t`hosting` enum('discloud','vps','local') NOT NULL DEFAULT 'vps',\n\t`version` varchar(16) NOT NULL DEFAULT '1.0.0',\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `bot_prompts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `bots` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`type` enum('payment','media_capture','distributor','cloner','account_creator','social_poster','monitor','vip_filler') NOT NULL,\n\t`status` enum('online','offline','error','idle') NOT NULL DEFAULT 'offline',\n\t`description` text,\n\t`config` text,\n\t`lastHeartbeat` timestamp,\n\t`lastActivity` text,\n\t`errorCount` int NOT NULL DEFAULT 0,\n\t`totalOperations` bigint NOT NULL DEFAULT 0,\n\t`hosting` enum('discloud','vps','local') NOT NULL DEFAULT 'vps',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `bots_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `media_queue` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sourceUrl` text NOT NULL,\n\t`thumbnailUrl` text,\n\t`mediaType` enum('video','image','gif') NOT NULL DEFAULT 'video',\n\t`category` varchar(64),\n\t`source` enum('erome','telegram_clone','manual') NOT NULL DEFAULT 'erome',\n\t`sourceBotId` int,\n\t`status` enum('pending','posted','failed','skipped') NOT NULL DEFAULT 'pending',\n\t`targetChannel` varchar(128),\n\t`postedAt` timestamp,\n\t`retryCount` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `media_queue_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `notifications` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`type` enum('bot_down','payment_received','error_critical','new_subscriber','media_posted','account_created') NOT NULL,\n\t`title` varchar(256) NOT NULL,\n\t`message` text NOT NULL,\n\t`metadata` text,\n\t`isRead` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `notifications_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `payments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`subscriberId` int,\n\t`telegramId` varchar(64),\n\t`amount` decimal(10,2) NOT NULL,\n\t`currency` varchar(8) NOT NULL DEFAULT 'BRL',\n\t`status` enum('pending','paid','expired','refunded') NOT NULL DEFAULT 'pending',\n\t`gateway` varchar(64) NOT NULL DEFAULT 'syncpay',\n\t`txId` varchar(256),\n\t`qrCode` text,\n\t`qrCodeBase64` text,\n\t`pixKey` text,\n\t`plan` enum('basic','premium','vip') NOT NULL DEFAULT 'basic',\n\t`expiresAt` timestamp,\n\t`paidAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `payments_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `social_accounts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`platform` enum('twitter','instagram') NOT NULL,\n\t`username` varchar(128) NOT NULL,\n\t`email` varchar(320),\n\t`passwordEnc` text,\n\t`phone` varchar(32),\n\t`proxyUsed` varchar(128),\n\t`status` enum('active','banned','suspended','unverified','error') NOT NULL DEFAULT 'unverified',\n\t`followersCount` int NOT NULL DEFAULT 0,\n\t`postsCount` int NOT NULL DEFAULT 0,\n\t`lastPostAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `social_accounts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `subscribers` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`telegramId` varchar(64) NOT NULL,\n\t`telegramUsername` varchar(128),\n\t`name` varchar(256),\n\t`plan` enum('basic','premium','vip') NOT NULL DEFAULT 'basic',\n\t`status` enum('active','expired','banned','pending') NOT NULL DEFAULT 'pending',\n\t`expiresAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `subscribers_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `subscribers_telegramId_unique` UNIQUE(`telegramId`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway04.us-east-1.prod.aws.tidbcloud.com --port 4000 --user nDu6ZPQLGbKQoLw.root --database fH9JNxmiadtzxhvWnZjZcq --execute CREATE TABLE `bot_logs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`botId` int NOT NULL,\n\t`level` enum('info','warn','error','debug') NOT NULL DEFAULT 'info',\n\t`message` text NOT NULL,\n\t`metadata` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `bot_logs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `bot_prompts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`botName` varchar(128) NOT NULL,\n\t`botType` varchar(64) NOT NULL,\n\t`description` text NOT NULL,\n\t`promptText` text NOT NULL,\n\t`dependencies` text,\n\t`envVars` text,\n\t`hosting` enum('discloud','vps','local') NOT NULL DEFAULT 'vps',\n\t`version` varchar(16) NOT NULL DEFAULT '1.0.0',\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `bot_prompts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `bots` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`type` enum('payment','media_capture','distributor','cloner','account_creator','social_poster','monitor','vip_filler') NOT NULL,\n\t`status` enum('online','offline','error','idle') NOT NULL DEFAULT 'offline',\n\t`description` text,\n\t`config` text,\n\t`lastHeartbeat` timestamp,\n\t`lastActivity` text,\n\t`errorCount` int NOT NULL DEFAULT 0,\n\t`totalOperations` bigint NOT NULL DEFAULT 0,\n\t`hosting` enum('discloud','vps','local') NOT NULL DEFAULT 'vps',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `bots_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `media_queue` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sourceUrl` text NOT NULL,\n\t`thumbnailUrl` text,\n\t`mediaType` enum('video','image','gif') NOT NULL DEFAULT 'video',\n\t`category` varchar(64),\n\t`source` enum('erome','telegram_clone','manual') NOT NULL DEFAULT 'erome',\n\t`sourceBotId` int,\n\t`status` enum('pending','posted','failed','skipped') NOT NULL DEFAULT 'pending',\n\t`targetChannel` varchar(128),\n\t`postedAt` timestamp,\n\t`retryCount` int NOT NULL DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `media_queue_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `notifications` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`type` enum('bot_down','payment_received','error_critical','new_subscriber','media_posted','account_created') NOT NULL,\n\t`title` varchar(256) NOT NULL,\n\t`message` text NOT NULL,\n\t`metadata` text,\n\t`isRead` boolean NOT NULL DEFAULT false,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `notifications_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `payments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`subscriberId` int,\n\t`telegramId` varchar(64),\n\t`amount` decimal(10,2) NOT NULL,\n\t`currency` varchar(8) NOT NULL DEFAULT 'BRL',\n\t`status` enum('pending','paid','expired','refunded') NOT NULL DEFAULT 'pending',\n\t`gateway` varchar(64) NOT NULL DEFAULT 'syncpay',\n\t`txId` varchar(256),\n\t`qrCode` text,\n\t`qrCodeBase64` text,\n\t`pixKey` text,\n\t`plan` enum('basic','premium','vip') NOT NULL DEFAULT 'basic',\n\t`expiresAt` timestamp,\n\t`paidAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `payments_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `social_accounts` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`platform` enum('twitter','instagram') NOT NULL,\n\t`username` varchar(128) NOT NULL,\n\t`email` varchar(320),\n\t`passwordEnc` text,\n\t`phone` varchar(32),\n\t`proxyUsed` varchar(128),\n\t`status` enum('active','banned','suspended','unverified','error') NOT NULL DEFAULT 'unverified',\n\t`followersCount` int NOT NULL DEFAULT 0,\n\t`postsCount` int NOT NULL DEFAULT 0,\n\t`lastPostAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `social_accounts_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `subscribers` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`telegramId` varchar(64) NOT NULL,\n\t`telegramUsername` varchar(128),\n\t`name` varchar(256),\n\t`plan` enum('basic','premium','vip') NOT NULL DEFAULT 'basic',\n\t`status` enum('active','expired','banned','pending') NOT NULL DEFAULT 'pending',\n\t`expiresAt` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `subscribers_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `subscribers_telegramId_unique` UNIQUE(`telegramId`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1269
}